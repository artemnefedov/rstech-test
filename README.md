# Тестовое РСТех

## Описание

Приложение для управления каталогом товаров с возможностью фильтрации и пагинации.

OpenAPI спецификация доступна по адресу: `/v3/api-docs`
Swagger UI доступен по адресу: `/swagger-ui/index.html`

## Стек технологий

### Фронтенд:

Для фронтенда намеренно не использовались JSP/Thymeleaf/JTA, для защиты данных от
несанкционированного доступа и отдачи логики на клиент, а так же для усиления использования restful
API.
HTML-страницы отдаются с как статические ресурсы помощью Spring Boot.

Проверка access и refresh токенов и их обновление происходят с помощью API-запросов к
`/api/v1/auth**`

- HTML
- JS

### Бэкенд:

- Java 21
- Spring Boot
-
    - Spring Web
-
    - Spring Data JPA
-
    - Spring Security
-
    - Spring Docker compose (для запуска контейнера с PostgreSQL)
- Springdoc
-
    - openapi
- Jsonwebtoken (JWT)
-
    - api
-
    - impl
-
    - jackson

### База данных:

- PostgreSQL

## Страница входа в систему

![img.png](assets/img.png)

## Главная страница

На главной странице отображается список всех доступных товаров, поддерживает фильтрацию по названию,
категории и цене (от-до) и пагинацию (по умолчанию размер страницы - 10 элементов)

### Фильтрация

#### По названию

![img_4.png](assets/img_4.png)

#### По категории

![img_5.png](assets/img_5.png)
![img_6.png](assets/img_6.png)

#### По цене

##### От

![img_7.png](assets/img_7.png)

##### До

![img_8.png](assets/img_8.png)

### Пагинация

![img_3.png](assets/img_3.png)

### Вид с authority `update` и `delete` (роль ADMIN)

Для пользователя с правами добавляется колонка *Действия* и доступ к редактированию и удалению
товара.
credentials: `admin`:`password`
![img_1.png](assets/img_1.png)

### Редактирование товара

Редактирование и удаление, как и создание товара, открывается в модальном окне. При редактировании
товара поля формы заполняются значениями товара.

#### Редактирование

![img_9.png](assets/img_9.png)

#### Удаление

![img_10.png](assets/img_10.png)

### Создание товара

Создание доступно для пользователей с authority `create`
![img_11.png](assets/img_11.png)
![img_12.png](assets/img_12.png)

### Вид с authority `read` (роль USER)

credentials: `user`:`password`
![img_2.png](assets/img_2.png)

## Список категорий

### Вид с authority `update` и `delete` (роль ADMIN)

![img_13.png](assets/img_13.png)
Категория *Не определено* отображается, если у товара не указана категория (при удалении категории).

### Редактирование категории

![img_14.png](assets/img_14.png)

### Удаление категории

При удалении категории, все товары, которые к ней относятся, получают категорию *Не определено*.

#### Удаление категории `Electronics`

![img_16.png](assets/img_16.png)

#### Состояние каталога до

![img_17.png](assets/img_17.png)

#### После

- Для товаров удалённой категории устанавливается категория *Не определено*
- Статус товара устанавливается на `Неактивен`
  ![img_15.png](assets/img_15.png)

## Обработка ошибок с API

### 401 Unauthorized

![img_18.png](assets/img_18.png)

### 400 Bad Request

Ошибка при вализации dto
![img_20.png](assets/img_20.png)

### 500 Internal Server Error

Поиск по не существующей категории (удалённой в другой вкладке)
![img_19.png](assets/img_19.png)